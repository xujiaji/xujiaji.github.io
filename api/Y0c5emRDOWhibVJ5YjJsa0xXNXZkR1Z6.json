{"title":"Android开发笔记","date":"2018-01-24T09:03:41.000Z","author":"xujiaji","thumbnail":"image/android-notes/banner.png","excerpt":"","slug":"android-notes","comments":true,"tags":["android","笔记"],"categories":["笔记"],"updated":"2018-03-16T15:35:24.721Z","content":"<h2 id=\"垂直RecyclerView嵌套垂直RecyclerView滑动时出现的卡顿\"><a href=\"#垂直RecyclerView嵌套垂直RecyclerView滑动时出现的卡顿\" class=\"headerlink\" title=\"垂直RecyclerView嵌套垂直RecyclerView滑动时出现的卡顿\"></a>垂直RecyclerView嵌套垂直RecyclerView滑动时出现的卡顿</h2><p>原因：内部RecyclerView重复设置适配器导致的卡顿</p>\n<p>解决：判断内部RecyclerView是否设置过适配器，如果没有才设置</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//内部RecyclerView的获取和处理问题的代码</span></span><br><span class=\"line\">RecyclerView rvItem = helper.getView(R.id.rvItem);</span><br><span class=\"line\">rvItem.setNestedScrollingEnabled(<span class=\"keyword\">false</span>);</span><br><span class=\"line\"><span class=\"keyword\">if</span>(rvItem.getAdapter() == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    LinearLayoutManager layoutManager = <span class=\"keyword\">new</span> LinearLayoutManager(mContext);</span><br><span class=\"line\">    layoutManager.setAutoMeasureEnabled(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">    rvItem.setLayoutManager(layoutManager);</span><br><span class=\"line\">    rvItem.setAdapter(<span class=\"keyword\">new</span> OrderItemAdapter(item.getList()));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"ScrollView嵌套RecyclerView滑动滑动起来很吃力\"><a href=\"#ScrollView嵌套RecyclerView滑动滑动起来很吃力\" class=\"headerlink\" title=\"ScrollView嵌套RecyclerView滑动滑动起来很吃力\"></a>ScrollView嵌套RecyclerView滑动滑动起来很吃力</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">recyclerView.setNestedScrollingEnabled(<span class=\"keyword\">false</span>);</span><br></pre></td></tr></table></figure>\n<h2 id=\"RecyclerView嵌套RecyclerView时，刷新内部RecyclerView会跳动\"><a href=\"#RecyclerView嵌套RecyclerView时，刷新内部RecyclerView会跳动\" class=\"headerlink\" title=\"RecyclerView嵌套RecyclerView时，刷新内部RecyclerView会跳动\"></a>RecyclerView嵌套RecyclerView时，刷新内部RecyclerView会跳动</h2><p>原因：内部RecyclerView抢占了焦点</p>\n<p>解决：将内部RecyclerView的焦点设置为false<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">recyclerView.setFocusableInTouchMode(<span class=\"keyword\">false</span>);</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"adb之Wifi连接手机\"><a href=\"#adb之Wifi连接手机\" class=\"headerlink\" title=\"adb之Wifi连接手机\"></a>adb之Wifi连接手机</h2><blockquote>\n<p>查看当前设备<code>adb devices</code></p>\n</blockquote>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ adb devices</span><br><span class=\"line\">7d1cbcbb\tdevice</span><br><span class=\"line\">192.168.56.101:5555\tdevice</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>让adb重新启动，并监听端口5555<code>adb -s 设备名 tcpip 5555</code></p>\n</blockquote>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ adb -s 7d1cbcbb tcpip 5555</span><br><span class=\"line\">restarting <span class=\"keyword\">in</span> TCP mode port: 5555</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>连接<code>adb connect ip地址:端口</code>，在手机上查看连接的wifi地址，WiFi需要和电脑网络同网段</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ adb connect 192.168.2.207:5555</span><br><span class=\"line\">connected to 192.168.2.207:5555</span><br></pre></td></tr></table></figure>\n","next":{"title":"HappyBubble-气泡对话框（根据被点击View位置显示、可定制）","slug":"happy-bubble"},"link":"http://yoursite.com/post/android-notes"}