{"title":"Git Commit Standard","date":"2018-09-05T02:21:44.000Z","author":"xujiaji","thumbnail":"https://raw.githubusercontent.com/xujiaji/xujiaji.github.io/pictures/blog/git/git_commit.jpg","slug":"Git-Commit-Standard","comments":true,"tags":["Git","笔记"],"categories":["工具"],"updated":"2018-12-25T15:22:08.307Z","content":"<p>记录一下Git的提交规范，方便以后查阅</p>\n<a id=\"more\"></a>\n<h2 id=\"提交命令\"><a href=\"#提交命令\" class=\"headerlink\" title=\"提交命令\"></a>提交命令</h2><ol>\n<li><code>git commit -m &quot;提交修改信息&quot;</code>，这样这只能有一行信息</li>\n<li><code>git commit</code>，会进入<code>vi</code>文本编辑器，可写多行。</li>\n</ol>\n<h2 id=\"提交信息的格式\"><a href=\"#提交信息的格式\" class=\"headerlink\" title=\"提交信息的格式\"></a>提交信息的格式</h2><blockquote>\n<p>每次提交信息都包括三个部分：Header、Body和Footer。其中，Header 是必需的，Body 和 Footer 可以省略。</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br><span class=\"line\">// 空一行</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">// 空一行</span><br><span class=\"line\">&lt;footer&gt;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>文字描述</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 标题行：50个字符以内，描述主要变更内容</span><br><span class=\"line\">#</span><br><span class=\"line\"># 主体内容：更详细的说明文本，建议72个字符以内。 需要描述的信息包括:</span><br><span class=\"line\">#</span><br><span class=\"line\"># * 为什么这个变更是必须的? 它可能是用来修复一个bug，增加一个feature，提升性能、可靠性、稳定性等等</span><br><span class=\"line\"># * 他如何解决这个问题? 具体描述解决问题的步骤</span><br><span class=\"line\"># * 是否存在副作用、风险?</span><br><span class=\"line\">#</span><br><span class=\"line\"># 尾部：如果需要的化可以添加一个链接到issue地址或者其它文档，或者关闭某个issue。</span><br></pre></td></tr></table></figure>\n<h2 id=\"lt-type-gt\"><a href=\"#lt-type-gt\" class=\"headerlink\" title=\"&lt;type&gt;\"></a><code>&lt;type&gt;</code></h2><div class=\"article-bounded\"><div class=\"article-table\"><table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Value</th>\n<th style=\"text-align:left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">feat</td>\n<td style=\"text-align:left\">feature新功能</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">fix</td>\n<td style=\"text-align:left\">修复bug</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">doc</td>\n<td style=\"text-align:left\">仅仅修改了文档，比如README, CHANGELOG, CONTRIBUTE等等</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">style</td>\n<td style=\"text-align:left\">代码格式改变，不改变代码逻辑</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">refactor</td>\n<td style=\"text-align:left\">代码重构，没有加新功能或者修复bug</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">perf</td>\n<td style=\"text-align:left\">优化相关，比如提升性能、体验</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">test</td>\n<td style=\"text-align:left\">测试用例，包括单元测试、集成测试等</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">chore</td>\n<td style=\"text-align:left\">改变构建流程、或者增加依赖库、工具等</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">revert</td>\n<td style=\"text-align:left\">回滚到上一个版本</td>\n</tr>\n</tbody>\n</table></div></div>\n<h2 id=\"lt-scope-gt\"><a href=\"#lt-scope-gt\" class=\"headerlink\" title=\"&lt;scope&gt;\"></a><code>&lt;scope&gt;</code></h2><div class=\"article-bounded\"><div class=\"article-table\"><table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Value</th>\n<th style=\"text-align:left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">all</td>\n<td style=\"text-align:left\">表示影响面大 ，如修改了网络框架  会对真个程序产生影响</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">loation</td>\n<td style=\"text-align:left\">表示影响小，某个小小的功能</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">module</td>\n<td style=\"text-align:left\">表示会影响某个模块 如登录模块、首页模块 、用户管理模块等等</td>\n</tr>\n</tbody>\n</table></div></div>\n<h2 id=\"lt-subject-gt\"><a href=\"#lt-subject-gt\" class=\"headerlink\" title=\"&lt;subject&gt;\"></a><code>&lt;subject&gt;</code></h2><ol>\n<li>subject是 commit 目的的简短描述，不超过50个字符。</li>\n<li>以动词开头，第一个字母小写，使用第一人称现在时，比如change，而不是changed或changes<br>第一个字母小写</li>\n<li>结尾不加句号”.”</li>\n</ol>\n<h2 id=\"lt-body-gt\"><a href=\"#lt-body-gt\" class=\"headerlink\" title=\"&lt;body&gt;\"></a><code>&lt;body&gt;</code></h2><p>对本次 commit 的详细描述，可以分成多行。</p>\n<h2 id=\"lt-footer-gt\"><a href=\"#lt-footer-gt\" class=\"headerlink\" title=\"&lt;footer&gt;\"></a><code>&lt;footer&gt;</code></h2><ol>\n<li><p>并联Issue，本次提交如果和摸个issue有关系则需要写上这个，格式如下：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Issue #1, #2, #3</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>关闭 Issue，如果当前提交信息解决了某个issue，那么可以在 Footer 部分关闭这个 issue，关闭的格式如下：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Close #1, #2, #3</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"完整例子\"><a href=\"#完整例子\" class=\"headerlink\" title=\"完整例子\"></a>完整例子</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">feat(all): add login</span><br><span class=\"line\"></span><br><span class=\"line\">add login in project</span><br><span class=\"line\"></span><br><span class=\"line\">- qq login</span><br><span class=\"line\">- weixin login</span><br><span class=\"line\">- sina login</span><br><span class=\"line\"></span><br><span class=\"line\">Issue #1, #2</span><br><span class=\"line\">Close #1, #2</span><br></pre></td></tr></table></figure>\n","prev":{"title":"iOS Objective-C Learn Note","slug":"iOS-Objective-C-Learn"},"next":{"title":"iOS用UISegmentedControl设计一个顶部分页导航-Swift（翻译文）","slug":"ios-uisegmented-design"},"link":"https://blog.xujiaji.com/post/Git-Commit-Standard/","toc":[{"title":"提交命令","id":"提交命令","index":"1"},{"title":"提交信息的格式","id":"提交信息的格式","index":"2"},{"title":"<code>&lt;type&gt;</code>","id":"lt-type-gt","index":"3"},{"title":"<code>&lt;scope&gt;</code>","id":"lt-scope-gt","index":"4"},{"title":"<code>&lt;subject&gt;</code>","id":"lt-subject-gt","index":"5"},{"title":"<code>&lt;body&gt;</code>","id":"lt-body-gt","index":"6"},{"title":"<code>&lt;footer&gt;</code>","id":"lt-footer-gt","index":"7"},{"title":"完整例子","id":"完整例子","index":"8"}],"copyright":{"author":"xujiaji","link":"<a href=\"https://blog.xujiaji.com/post/Git-Commit-Standard/\" title=\"Git Commit Standard\">https://blog.xujiaji.com/post/Git-Commit-Standard/</a>","license":"自由转载-非商用-禁止演绎-保持署名 (<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow noopener\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)","published":"2018年9月5日"},"reward":true}